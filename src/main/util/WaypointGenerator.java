package main.util;

import java.util.ArrayList;

public class WaypointGenerator {
  
  // Heimfelder straße ende
  public static ArrayList<Waypoint> generateWPs() {
    ArrayList<Waypoint> waypoints = new ArrayList<Waypoint>();
    waypoints.add(new Waypoint(53.4599405, 9.9288308));
    waypoints.add(new Waypoint(53.45990217, 9.92915267));
    waypoints.add(new Waypoint(53.45990217, 9.92943161));
    waypoints.add(new Waypoint(53.4598383, 9.92975348));
    waypoints.add(new Waypoint(53.45978719, 9.93007534));
    waypoints.add(new Waypoint(53.45978719, 9.93007534));
    waypoints.add(new Waypoint(53.45976164, 9.93023091));
    waypoints.add(new Waypoint(53.45974567, 9.93037575));
    waypoints.add(new Waypoint(53.45973609, 9.93055278));
    waypoints.add(new Waypoint(53.45973609, 9.93078881));
    waypoints.add(new Waypoint(53.45973928, 9.93105167));
    waypoints.add(new Waypoint(53.45976164, 9.93126088));
    waypoints.add(new Waypoint(53.45980316, 9.93144327));
    waypoints.add(new Waypoint(53.45984788, 9.93165248));
    waypoints.add(new Waypoint(53.45991175, 9.93188315));
    waypoints.add(new Waypoint(53.45992134, 9.93208164));
    waypoints.add(new Waypoint(53.45996605, 9.93236059));
    waypoints.add(new Waypoint(53.46001396, 9.93255907));
    waypoints.add(new Waypoint(53.46006506, 9.93277901));
    waypoints.add(new Waypoint(53.46010339, 9.93296677));
    waypoints.add(new Waypoint(53.46012894, 9.93313843));
    waypoints.add(new Waypoint(53.46014491, 9.93330472));
    waypoints.add(new Waypoint(53.46017685, 9.93359977));
    waypoints.add(new Waypoint(53.46021517, 9.93383044));
    waypoints.add(new Waypoint(53.46021837, 9.93394845));
    waypoints.add(new Waypoint(53.46024072, 9.93414694));
    waypoints.add(new Waypoint(53.46025989, 9.93431324));
    waypoints.add(new Waypoint(53.46028863, 9.93445807));
    return waypoints;
  }
  
  // Heimfeld penny ===> Thörlstraße
  public static ArrayList<Waypoint> generateWPs2() {
    ArrayList<Waypoint> waypoints = new ArrayList<Waypoint>();
    waypoints.add(new Waypoint(53.46525012, 9.96259332));
    waypoints.add(new Waypoint(53.46522457, 9.9624002));
    waypoints.add(new Waypoint(53.4651607, 9.96214271));
    waypoints.add(new Waypoint(53.46509683, 9.96186376));
    waypoints.add(new Waypoint(53.46505851, 9.96162772));
    waypoints.add(new Waypoint(53.46495632, 9.96119857));
    waypoints.add(new Waypoint(53.46490522, 9.9608767));
    waypoints.add(new Waypoint(53.46485413, 9.96061921));
    waypoints.add(new Waypoint(53.46479025, 9.96036172));
    waypoints.add(new Waypoint(53.46475193, 9.96010423));
    waypoints.add(new Waypoint(53.46471361, 9.95988965));
    waypoints.add(new Waypoint(53.46464974, 9.95954633));
    waypoints.add(new Waypoint(53.46462419, 9.95928884));
    waypoints.add(new Waypoint(53.46457309, 9.95903134));
    waypoints.add(new Waypoint(53.464522, 9.95883822));
    waypoints.add(new Waypoint(53.46448368, 9.95866656));
    waypoints.add(new Waypoint(53.4644198, 9.95836616));
    waypoints.add(new Waypoint(53.46439426, 9.95815158));
    waypoints.add(new Waypoint(53.46435593, 9.957937));
    waypoints.add(new Waypoint(53.46430484, 9.95770097));
    waypoints.add(new Waypoint(53.46426651, 9.95748639));
    waypoints.add(new Waypoint(53.46422819, 9.95716453));
    waypoints.add(new Waypoint(53.46417709, 9.95692849));
    waypoints.add(new Waypoint(53.46413877, 9.95673537));
    waypoints.add(new Waypoint(53.46411322, 9.95654225));
    waypoints.add(new Waypoint(53.46408767, 9.95634913));
    waypoints.add(new Waypoint(53.46404935, 9.95613456));
    waypoints.add(new Waypoint(53.46399825, 9.95579123));
    waypoints.add(new Waypoint(53.46392161, 9.95557666));
    return waypoints;
  }
  
  // HAW Berliner Tor 7
  public static ArrayList<Waypoint> generateWPs3() {
    ArrayList<Waypoint> waypoints = new ArrayList<Waypoint>();
    waypoints.add(new Waypoint(53.5571155, 10.0231906));
    waypoints.add(new Waypoint(53.55709319, 10.02312891));
    waypoints.add(new Waypoint(53.55706133, 10.02309136));
    waypoints.add(new Waypoint(53.55704221, 10.02308063));
    waypoints.add(new Waypoint(53.55702309, 10.02302967));
    waypoints.add(new Waypoint(53.55701194, 10.02296798));
    waypoints.add(new Waypoint(53.5570199, 10.02291701));
    waypoints.add(new Waypoint(53.55699122, 10.02288215));
    waypoints.add(new Waypoint(53.55696573, 10.02284191));
    waypoints.add(new Waypoint(53.55694502, 10.02280168));
    waypoints.add(new Waypoint(53.55691634, 10.02275876));
    waypoints.add(new Waypoint(53.55689563, 10.0227239));
    waypoints.add(new Waypoint(53.55687013, 10.02269171));
    waypoints.add(new Waypoint(53.55684783, 10.02266757));
    waypoints.add(new Waypoint(53.55682552, 10.02265952));
    waypoints.add(new Waypoint(53.55680162, 10.0226622));
    waypoints.add(new Waypoint(53.55677453, 10.02267025));
    waypoints.add(new Waypoint(53.55672833, 10.02264611));
    waypoints.add(new Waypoint(53.55669487, 10.02259247));
    waypoints.add(new Waypoint(53.55668372, 10.02254419));
    waypoints.add(new Waypoint(53.55664866, 10.02247445));
    waypoints.add(new Waypoint(53.55662954, 10.02243422));
    waypoints.add(new Waypoint(53.55659927, 10.02236716));
    waypoints.add(new Waypoint(53.55656422, 10.02227328));
    waypoints.add(new Waypoint(53.55654032, 10.02221964));
    waypoints.add(new Waypoint(53.55651961, 10.022166));
    waypoints.add(new Waypoint(53.55649571, 10.02210431));
    waypoints.add(new Waypoint(53.5564495, 10.02199165));
    waypoints.add(new Waypoint(53.55643038, 10.02196215));
    waypoints.add(new Waypoint(53.55640967, 10.0219085));
    waypoints.add(new Waypoint(53.55638258, 10.0218495));
    waypoints.add(new Waypoint(53.55634912, 10.02177976));
    waypoints.add(new Waypoint(53.55633159, 10.02173684));
    waypoints.add(new Waypoint(53.55630929, 10.02169125));
    waypoints.add(new Waypoint(53.55627583, 10.02165638));
    waypoints.add(new Waypoint(53.55624715, 10.02166979));
    waypoints.add(new Waypoint(53.55620254, 10.02168052));
    waypoints.add(new Waypoint(53.55615952, 10.02172075));
    waypoints.add(new Waypoint(53.55613243, 10.02175294));
    waypoints.add(new Waypoint(53.55609897, 10.02179049));
    waypoints.add(new Waypoint(53.55605914, 10.02182267));
    waypoints.add(new Waypoint(53.55604161, 10.02184413));
    waypoints.add(new Waypoint(53.55600974, 10.02186022));
    waypoints.add(new Waypoint(53.55598584, 10.02190046));
    waypoints.add(new Waypoint(53.55595876, 10.02196215));
    waypoints.add(new Waypoint(53.55651961, 10.02192728));
    waypoints.add(new Waypoint(53.55590458, 10.02198092));
    waypoints.add(new Waypoint(53.55586475, 10.02198361));
    waypoints.add(new Waypoint(53.55584563, 10.02199433));
    waypoints.add(new Waypoint(53.55582651, 10.02202384));
    waypoints.add(new Waypoint(53.55581058, 10.0220453));
    waypoints.add(new Waypoint(53.55578827, 10.02204798));
    waypoints.add(new Waypoint(53.55577074, 10.0220453));
    waypoints.add(new Waypoint(53.55573888, 10.02205871));
    waypoints.add(new Waypoint(53.5557102, 10.02209089));
    waypoints.add(new Waypoint(53.55567036, 10.02212845));
    waypoints.add(new Waypoint(53.5556385, 10.02216331));
    waypoints.add(new Waypoint(53.55560822, 10.02219282));
    waypoints.add(new Waypoint(53.55556679, 10.02220891));
    waypoints.add(new Waypoint(53.55554289, 10.02222769));
    waypoints.add(new Waypoint(53.55551103, 10.02225719));
    return waypoints;
  }

  public static ArrayList<Waypoint> interpolate(Waypoint begin, Waypoint end, double mps) {
    double distance = begin.distance(end);
    ArrayList<Waypoint> wps = new ArrayList<Waypoint>();
    double step = (mps/distance);
    for (double t = 0.0; t <= 1.0; t += step)
      wps.add(Waypoint.lerp(begin, end, t));
    return wps;
  }
  
  private static final double MAX_KOEF_DISTANCE = 1.25;
  public static ArrayList<Waypoint> interpolate(ArrayList<Waypoint> wps, double mps) {
    ArrayList<Waypoint> overall = new ArrayList<Waypoint>();
    int size = wps.size();
    for (int i = 0; i < size - 1; ++i)
      overall.addAll(interpolate(wps.get(i), wps.get(i + 1), mps));
    System.out.println("Waypoints: " + wps.size());
    Waypoint prev = null;
    double overallDistance = 0;
    for (Waypoint wp : overall) {
      if (prev != null) {
        double dist = prev.distance(wp);
        if (dist > mps * MAX_KOEF_DISTANCE) System.exit(-4);
        overallDistance += dist;
      }
      prev = wp;
    }
    System.out.println("overallDistance: " + overallDistance + "m");
    return overall;
  }
}
